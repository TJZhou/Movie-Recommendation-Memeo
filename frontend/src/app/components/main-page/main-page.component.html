<div class="loading" *ngIf="isLoading">
  <mat-spinner class="spinner"></mat-spinner>
</div>


<mat-toolbar color="primary">
  <span class="header-span">Memeo</span>
  <span class="fill-remaining-space"></span>
  <span class="header-span" (click)="auth.logout()">Log out</span>
</mat-toolbar>

<div class="container">
  <mat-button-toggle-group  #group="matButtonToggleGroup">
    <mat-button-toggle  mat-raised-button (click)="getMovieRecommendation()">Recommended</mat-button-toggle>
    <mat-button-toggle  mat-raised-button (click)="listMoviesByGenre('')">All Movies</mat-button-toggle>
    <ng-container *ngFor="let genres of genres">
      <mat-button-toggle mat-raised-button (click)="listMoviesByGenre(genres)">{{genres}}</mat-button-toggle>
    </ng-container>
  </mat-button-toggle-group>
</div>

<div class="container">
  <div fxLayout="row wrap"  fxLayoutAlign="center center">
    <ng-container *ngFor="let movie of movies">
      <mat-card class="movieCard">
        <mat-card-header>
          <mat-card-title>{{movie.title}}</mat-card-title>
          <mat-card-subtitle>{{movie.genres}}</mat-card-subtitle>
        </mat-card-header>
        <!-- <img mat-card-image src="assets/images/Forrest-Gump.jpg" alt="{{movieRecommendation.title}}"> -->
        <mat-card-content>
          <p>Rating:{{movie.rating}}</p>
          <span>imdb link: </span>
          <a href="https://www.imdb.com/title/tt0{{movie.imdbId}}" (click)="clickMovieLink(movie)" target="_blank">
            https://www.imdb.com/title/tt0{{movie.imdbId}}
          </a>
        </mat-card-content>
      </mat-card>
    </ng-container>
  </div>
</div>


<div class="container">
  <button class="footer" mat-raised-button (click)="goToPage(page-1)">Previous</button>
  {{page}}
  <button class="footer" mat-raised-button (click)="goToPage(page+1)">Next</button>
  <mat-form-field class="footer page-field">
    <mat-label>Page</mat-label>
    <mat-select [(value)]="page">
      <mat-option *ngFor="let pageNum of pageArr" [(value)]="pageNum">{{pageNum}}</mat-option>
    </mat-select>
  </mat-form-field>
  <button class="footer" mat-raised-button (click)="goToPage(page)">Go</button>
</div>
